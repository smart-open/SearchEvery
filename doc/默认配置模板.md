# 默认配置模板（SearchEvery）

说明：以下为建议的默认配置与示例，用户可在设置页填写或通过配置文件覆盖。占位符请按实际环境替换。

## 1. 全局配置（config.json 示例）
```json
{
  "search_mode": "inverted", 
  "hybrid_weights": { "alpha": 0.7, "beta": 0.3 },
  "index": {
    "tokenizer": "cjieba",
    "boosts": {
      "default": 10,
      "file_name": 80,
      "title_lvl1": 60,
      "title_lvl2": 40,
      "title_lvl3": 20
    },
    "stop_words": [],
    "user_dict_path": null
  },
  "scan": {
    "include_paths": [],
    "exclude_paths": {
      "windows": ["C:/Windows", "C:/Program Files", "C:/Program Files (x86)", "C:/ProgramData", "C:/Users/%USER%/AppData"],
      "macos": ["/System", "/Library", "~/Library"],
      "linux": ["/proc", "/sys", "/dev", "/run", "/var/log"]
    },
    "max_file_size_mb": 1024,
    "concurrency": 4
  },
  "ocr": {
    "enabled": true,
    "engine": "tesseract",
    "lang": "chi_sim"
  },
  "asr": {
    "enabled": true,
    "engine": "whisper.cpp",
    "model": "base",
    "language": "zh"
  },
  "vector_db": {
    "type": "chroma",
    "chroma": {
      "persist_path": "~/.search_everywhere/chroma",
      "collection": "files",
      "metric": "cosine"
    }
  },
  "embeddings": {
    "enabled": false
  },
  "cloud_ai": {
    "enabled": false,
    "vendor": null,
    "vendors": {
      "doubao": {
        "endpoint": "https://api.doubao.cn/v1",
        "api_key": "YOUR_DOUBAO_KEY",
        "model": "doubao-lite",
        "temperature": 0.2,
        "timeout_ms": 15000,
        "concurrency": 2
      },
      "ali": {
        "endpoint": "https://dashscope.aliyuncs.com/api/v1",
        "api_key": "YOUR_ALI_KEY",
        "model": "qwen-turbo",
        "temperature": 0.2,
        "timeout_ms": 15000,
        "concurrency": 2
      },
      "tencent": {
        "endpoint": "https://hunyuan.tencentcloudapi.com",
        "api_key": "YOUR_TENCENT_KEY",
        "model": "hunyuan-lite",
        "temperature": 0.2,
        "timeout_ms": 15000,
        "concurrency": 2
      }
    }
  }
}
```

## 2. ChromaDB 本地默认
- persist_path：放置在用户家目录的应用数据目录。
- collection：files；按 modality（text/image/audio/video/binary）区分子分组或使用元数据字段区分。
- metric：cosine。

## 3. 本地模型（Ollama）默认
- endpoint：http://localhost:11434（需安装并启动 Ollama）。
- 文本嵌入：bge-m3；
- 图像描述：llava；
- 可根据设备性能调整模型大小（例如 bge-large 或 llava-7b）。

## 4. OCR/ASR 默认
- OCR：Tesseract（安装中文语言包 chi_sim）。
- ASR：Whisper.cpp（默认 base 模型）；低配设备可用 tiny，追求精度可用 large-v3。

## 5. 连接测试与故障回退建议
- 云厂商默认关闭，开启后必须通过“测试连接”按钮验证；失败则回退到本地模型。
- 向量库连接失败时：回退为本地内存向量（小规模测试模式），提示用户检查 ChromaDB 目录与权限。