# 产品 UI/UE 设计文档（SearchEverywhere）

## 1. 设计目标与原则
- 高效检索：最少操作找到目标文件。
- 信息可视：结果高亮与权重解释，建立信任。
- 低打扰：后台构建不影响前台操作；清晰的进度与状态反馈。
- 一致性与可扩展：跨平台一致体验，支持多语言与主题。

## 2. 用户画像与场景抽象
- 个人用户：查找资料、照片、作业文档；
- 专业用户：代码搜索、项目资料、媒体素材管理；
- 重度用户：需批量清理重复、语义检索增强。

## 3. 信息架构（IA）与导航
- 顶部导航/侧边栏：
  - 搜索（默认主页）
  - 索引状态
  - 重复文件
  - 设置
  - 关于
- 页内区块：搜索栏、过滤器、结果列表、详情侧栏、状态条。

## 4. 页面规格与交互说明
4.1 搜索页（默认）
- 布局：
  - 顶部搜索栏：关键词输入（支持中文分词），模式切换（倒排/混合/向量），筛选（类型、大小、时间）。
  - 主区结果列表：卡片/表格视图切换；显示文件名（高亮）、路径、类型、时间、摘要/片段。显示“相关度/相似度”分数与字段权重命中解释。
  - 右侧详情：文件预览（文本片段/缩略图/元信息）、打开位置按钮、标签/收藏。
- 交互：
  - 输入即搜（debounce 250ms）；
  - 高亮点击跳转片段；
  - 快捷键：Enter 搜索，Ctrl/Cmd+K 聚焦搜索框；
  - 结果排序：综合/时间/大小。

4.2 索引状态页
- 显示：全盘扫描进度、已索引文件数、失败/重试队列、CPU/GPU 使用、任务队列（解析/嵌入）。
- 操作：暂停/继续、限速、添加/移除目录白名单/黑名单。

4.3 重复文件页
- 列表：按组展示重复或近似重复；显示缩略图（图片/视频）、波形摘要（音频，可选）、文件大小、路径、数量。
- 规则：保留策略（最新、最大、所在目录优先），一键清理，确认弹窗（展示即将删除项）。
- 安全：默认隐藏系统/程序目录项；删除移动到回收站；提供恢复入口。

4.4 设置页
- 模块：
  - 索引：目录管理、文件类型与大小阈值、并发与后台策略。
  - 模型：开关、厂商（Ollama/豆包/阿里/腾讯）、地址、API Key、模型、温度、并发度、超时、测试连接按钮。
  - 向量库：类型（Milvus/Chroma/Lance）、地址、鉴权、集合名、维度、度量、索引参数（HNSW/IVF），测试连接按钮。
  - 外观：主题（浅色/深色/系统）、语言（中文默认）。

4.5 关于页
- 展示版本、许可证、依赖、隐私说明、反馈渠道。

## 5. 组件规范
- 搜索框：占位文案“请输入关键词（支持中文分词）”，支持快捷清除与历史记录下拉。
- 筛选器：类型（文本/文档/图片/音频/视频/二进制）、时间范围、大小范围，多选标签。
- 结果卡片：图标/缩略图、文件名高亮、路径、摘要、分数；hover 显示快速操作（打开/定位/收藏）。
- 详情侧栏：预览组件（文本片段、图片缩略图、视频关键帧）、元信息（大小、时间、哈希、分组标签）。
- 进度条与任务队列：顶部状态条 + 详细任务列表，支持折叠。
- 弹窗：删除确认、测试连接结果、错误提示（带日志 ID）。

## 6. 视觉设计（建议）
- 色彩：
  - 主色：蓝（#3A7AFE）/紫（#6C5CE7）二选一；
  - 强调色：绿色（成功）、红色（危险）、黄色（警告）。
- 字体与排版：中文优先使用系统字体（Windows：微软雅黑；mac：苹方；Linux：Noto Sans CJK），正文 14px，标题 16-20px。
- 间距与栅格：8px 基础间距；12 栅格布局；卡片圆角 8px。
- 暗色模式：背景 #121212，文本高对比度；高亮色降饱和避免刺眼。

## 7. 原型与线框说明（文字版）
- 搜索页线框：
  - 顶部：Logo + 搜索框 + 模式切换 + 筛选器；
  - 左侧：过滤器折叠面板（类型、时间、大小）；
  - 中部：结果表格（名称 | 路径 | 类型 | 时间 | 摘要 | 分数）；
  - 右侧：详情（预览 + 元信息 + 操作）。
- 索引状态：
  - 顶部：全局进度 + 资源占用；
  - 中部：任务队列（解析/嵌入/重试）；
  - 底部：控制（暂停/继续/限速）。
- 重复文件：
  - 分组卡片（缩略图 + 计数 + 总大小）；
  - 右侧规则选择 + 清理按钮。
- 设置：
  - 分为多页签：索引/模型/向量库/外观；每页提供“测试连接”和“保存”。

## 8. 交互细节与可用性
- 键盘：全局快捷（Ctrl/Cmd+K 打开搜索；Ctrl/Cmd+F 焦点搜索框；Ctrl/Cmd+Shift+D 打开重复页面）。
- 状态反馈：操作后 300ms 内出现反馈；失败提供重试入口和错误日志 ID。
- 空态：首次启动未索引时提供引导与“开始构建”按钮；无结果时提供搜索建议。
- 可访问性：对比度符合 WCAG AA；提供键盘可达性与屏幕阅读器标签。

## 9. 文案与本地化
- 语气：专业、克制、可解释；
- 文案示例：
  - “正在构建索引（预计 25 分钟）”
  - “已识别 3 组重复文件，共 2.4GB”
  - “向量库连接成功（Milvus@localhost）”

## 10. 指标与验收
- 任务可视性：用户可在 3 步内找到任务状态。
- 检索效率：输入到结果显著时间 <300ms；
- 清理安全性：零误删（依赖回收站与多重确认）。